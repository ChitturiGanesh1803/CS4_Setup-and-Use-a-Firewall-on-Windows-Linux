windows(victim)
---------------------------
ipconfig
Win + R
wf.msc


*Block inbound Telnet (Port 23)
Create rule:

Click Inbound Rules

Click New Rule…

Rule Type → Port

Protocol → TCP

Specific local ports → 23

Action → Block the connection

Profile → Domain, Private, Public (all checked)

Name → Block Telnet Port 23

Click Finish.



*Allow SSH (Port 22)

Only do this if SSH is installed on Windows.

Create rule:

Inbound Rules → New Rule…

Port

TCP

Port → 22

Action → Allow the connection

Profiles → all

Name → Allow SSH Port 22



*Install OpenSSH Server on Windows

On Windows 10:

Open Settings

Go to Apps → Optional Features

Click Add a feature

Install OpenSSH Server



*Start SSH service

Open PowerShell as Administrator and run:

Start-Service sshd
Set-Service -Name sshd -StartupType Automatic

Get-Service sshd

New-NetFirewallRule -Name "Allow SSH" -Protocol TCP -LocalPort 22 -Action Allow -Direction Inbound



KALI(ATTACKER)
------------------------------

telnet 10.10.10.9

ssh hi@10.10.10.9



windows(disableing ssh)
----------------------------
Stop-Service sshd

Set-Service -Name sshd -StartupType Disabled

Get-Service sshd

*In PowerShell (Admin):

Get-WindowsCapability -Online | Where-Object Name -Like "OpenSSH.Server*"

Remove-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0
